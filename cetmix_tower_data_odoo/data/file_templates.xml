<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <record id="file_template_odoo_config" model="cx.tower.file.template">
        <field name="readonly">True</field>
        <field name="name">Odoo config</field>
        <field name="file_name">odoo.conf</field>
        <field name="server_dir">{{ odoo_path_config }}</field>
        <field
            name="tag_ids"
            eval="[(6, 0, [ref('cetmix_tower_data_odoo.tag_cetmix_tower_data_odoo')])]"
        />
        <field name="note">

        </field>
        <field name="code">
[options]
# odoo/odoo
addons_path = {{ odoo_conf_addons_path }}
admin_passwd = {{ odoo_conf_admin_passwd }}
csv_internal_sep = {{ odoo_conf_csv_internal_sep }}
data_dir = {{ odoo_conf_data_dir }}
db_host = {{ odoo_conf_db_host }}
# db_maxconn = {{ odoo_conf_db_maxconn }}
# db_maxconn_gevent = {{ odoo_conf_db_maxconn_gevent }}
db_name = {{ odoo_conf_db_name }}
db_password = {{ odoo_conf_db_password }}
db_port = {{ odoo_conf_db_port }}
db_sslmode = {{ odoo_conf_db_sslmode }}
db_template = {{ odoo_conf_db_template }}
db_user = {{ odoo_conf_db_user }}
dbfilter = {{ odoo_conf_dbfilter }}
# demo = {{ odoo_conf_demo }}
# email_from = {{ odoo_conf_email_from }}
# from_filter = {{ odoo_conf_from_filter }}
# geoip_city_db = {{ odoo_conf_geoip_city_db }}
# geoip_country_db = {{ odoo_conf_geoip_country_db }}
# gevent_port = {{ odoo_conf_gevent_port }}
http_enable = {{ odoo_conf_http_enable }}
http_interface = {{ odoo_conf_http_interface }}
http_port = {{ odoo_conf_http_port }}
# import_partial = {{ odoo_conf_import_partial }}
# limit_memory_hard = {{ odoo_conf_limit_memory_hard }}
# limit_memory_soft = {{ odoo_conf_limit_memory_soft }}
# limit_request = {{ odoo_conf_limit_request }}
# limit_time_cpu = {{ odoo_conf_limit_time_cpu }}
# limit_time_real = {{ odoo_conf_limit_time_real }}
# limit_time_real_cron = {{ odoo_conf_limit_time_real_cron }}
list_db = {{ odoo_conf_list_db }}
# log_db = {{ odoo_conf_log_db }}
# log_db_level = {{ odoo_conf_log_db_level }}
# log_handler = {{ odoo_conf_log_handler }}
# log_level = {{ odoo_conf_log_level }}
# logfile = {{ odoo_conf_logfile }}
# max_cron_threads = {{ odoo_conf_max_cron_threads }}
# osv_memory_count_limit = {{ odoo_conf_osv_memory_count_limit }}
# pg_path = {{ odoo_conf_pg_path }}
# pidfile = {{ odoo_conf_pidfile }}
proxy_mode = {{ odoo_conf_proxy_mode }}
# reportgz = {{ odoo_conf_reportgz }}
# screencasts = {{ odoo_conf_screencasts }}
# screenshots = {{ odoo_conf_screenshots }}
server_wide_modules = {{ odoo_conf_server_wide_modules }}
# smtp_password = {{ odoo_conf_smtp_password }}
# smtp_port = {{ odoo_conf_smtp_port }}
# smtp_server = {{ odoo_conf_smtp_server }}
# smtp_ssl = {{ odoo_conf_smtp_ssl }}
# smtp_ssl_certificate_filename = {{ odoo_conf_smtp_ssl_certificate_filename }}
# smtp_ssl_private_key_filename = {{ odoo_conf_smtp_ssl_private_key_filename }}
# smtp_user = {{ odoo_conf_smtp_user }}
# syslog = {{ odoo_conf_syslog }}
# test_enable = {{ odoo_conf_test_enable }}
# test_file = {{ odoo_conf_test_file }}
# test_tags = {{ odoo_conf_test_tags }}
# transient_age_limit = {{ odoo_conf_transient_age_limit }}
# translate_modules = {{ odoo_conf_translate_modules }}
# unaccent = {{ odoo_conf_unaccent }}
# upgrade_path = {{ odoo_conf_upgrade_path }}
# websocket_keep_alive_timeout = {{ odoo_conf_websocket_keep_alive_timeout }}
# websocket_rate_limit_burst = {{ odoo_conf_websocket_rate_limit_burst }}
# websocket_rate_limit_delay = {{ odoo_conf_websocket_rate_limit_delay }}
without_demo = {{ odoo_conf_without_demo }}
workers = {{ odoo_conf_workers }}
# OCA/server-auth/auth_admin_passkey
auth_admin_passkey_password: {{ odoo_conf_auth_admin_passkey_password }}
auth_admin_passkey_password_sha512_encrypted: {{ odoo_conf_auth_admin_passkey_password_sha512_encrypted }}
auth_admin_passkey_send_to_user: {{ odoo_conf_auth_admin_passkey_send_to_user }}
auth_admin_passkey_sysadmin_email: {{ odoo_conf_auth_admin_passkey_sysadmin_email }}
auth_admin_passkey_sysadmin_lang: {{ odoo_conf_auth_admin_passkey_sysadmin_lang }}

        </field>
    </record>

    <record id="file_template_odoo_dockerfile" model="cx.tower.file.template">
        <field name="readonly">True</field>
        <field name="name">Dockerfile based on Odoo official image</field>
        <field name="file_name">Dockerfile</field>
        <field name="server_dir">{{ odoo_path_dockerfile }}</field>
        <field
            name="tag_ids"
            eval="[(6, 0, [ref('cetmix_tower_data_odoo.tag_cetmix_tower_data_odoo')])]"
        />
        <field name="note">

        </field>
        <field name="code">
FROM odoo:{{ odoo_version }}
USER root

RUN apt update &amp;&amp; apt install -y \
{% if odoo_install_apt %}
    {{ odoo_install_apt }} \
{% endif %}
    git

RUN python3 -m pip install \
{% if odoo_install_pip %}
    {{ odoo_install_pip }} \
{% endif %}
    git+https://github.com/OCA/openupgradelib.git

USER odoo
ENTRYPOINT ["/entrypoint.sh"]
CMD ["odoo"]

        </field>
    </record>

</odoo>
