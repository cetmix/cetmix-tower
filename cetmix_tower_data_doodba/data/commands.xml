<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <record id="command_doodba_docker_run" model="cx.tower.command">
        <field name="readonly">True</field>
        <field name="name">Doodba - Create / Run container (with odoo_args)</field>
        <field
            name="tag_ids"
            eval="[(6, 0, [ref('cetmix_tower_data_odoo.tag_cetmix_tower_data_odoo')])]"
        />
        <field name="code">
docker run -d \
-v {{ odoo_conf_data_dir }}:/var/lib/odoo \
-v {{ odoo_path_config }}:/etc/odoo \
-v {{ doodba_instance_path }}/odoo/auto/addons:/opt/odoo/auto/addons \
-v {{ doodba_instance_path }}/odoo/custom/src:/opt/odoo/custom/src \
--link {{ postgres_instance_name }}:db \
--name {{ odoo_instance_name }} \
--restart {{ odoo_restart_policy }} \
--label "traefik.enable=true" \
--label "traefik.http.routers.{{ odoo_instance_name }}.rule=Host(\`{{ odoo_website_domain }}\`)" \
--label "traefik.http.routers.{{ odoo_instance_name }}.tls.certresolver=myresolver" \
--label "traefik.http.services.{{ odoo_instance_name }}.loadbalancer.server.port=8069" \
-t {{ odoo_image_name }} {{ odoo_args }}

        </field>
    </record>

</odoo>
