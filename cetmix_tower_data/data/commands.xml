<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <record id="command_tower_update_debian_packages" model="cx.tower.command">
        <field name="readonly">True</field>
        <field name="name">Tower - Update Debian packages</field>
        <field
            name="tag_ids"
            eval="[(6, 0, [ref('cetmix_tower_data.tag_cetmix_tower_data')])]"
        />
        <field name="code">
apt update
        </field>
    </record>

    <record id="command_tower_upgrade_debian_packages" model="cx.tower.command">
        <field name="readonly">True</field>
        <field name="name">Tower - Upgrade Debian packages</field>
        <field
            name="tag_ids"
            eval="[(6, 0, [ref('cetmix_tower_data.tag_cetmix_tower_data')])]"
        />
        <field name="code">
apt upgrade
        </field>
    </record>

    <record id="command_tower_install_curl" model="cx.tower.command">
        <field name="readonly">True</field>
        <field name="name">Tower - Install curl</field>
        <field
            name="tag_ids"
            eval="[(6, 0, [ref('cetmix_tower_data.tag_cetmix_tower_data')])]"
        />
        <field name="code">
apt install -y curl
        </field>
    </record>

    <record id="command_tower_install_docker" model="cx.tower.command">
        <field name="readonly">True</field>
        <field name="name">Tower - Install Docker for production</field>
        <field
            name="tag_ids"
            eval="[(6, 0, [ref('cetmix_tower_data.tag_cetmix_tower_data')])]"
        />
        <field name="code">
sudo apt-get update \
&amp;&amp; sudo apt-get install ca-certificates curl \
&amp;&amp; sudo install -m 0755 -d /etc/apt/keyrings \
&amp;&amp; sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg \
  -o /etc/apt/keyrings/docker.asc \
&amp;&amp; sudo chmod a+r /etc/apt/keyrings/docker.asc \
&amp;&amp; echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] \
  https://download.docker.com/linux/ubuntu \
  $(. /etc/os-release &amp;&amp; echo "$VERSION_CODENAME") stable" | \
  sudo tee /etc/apt/sources.list.d/docker.list > /dev/null \
&amp;&amp; sudo apt-get update \
&amp;&amp; sudo apt-get install docker-ce docker-ce-cli \
  containerd.io docker-buildx-plugin docker-compose-plugin

        </field>
    </record>

    <record id="command_tower_add_user_to_docker_group" model="cx.tower.command">
        <field name="readonly">True</field>
        <field name="name">Tower - Add user to docker group</field>
        <field
            name="tag_ids"
            eval="[(6, 0, [ref('cetmix_tower_data.tag_cetmix_tower_data')])]"
        />
        <field name="code">
usermod -a -G docker $USER
        </field>
    </record>

</odoo>
